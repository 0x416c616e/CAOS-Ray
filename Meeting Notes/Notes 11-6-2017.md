# Notes for Monday, 11/06/2017 (2nd meeting)

## Computer Association of SIUE
![CAOS logo](http://caos.cs.siue.edu/wp-content/uploads/2013/08/pixelFree.png "CAOS logo")

See previous meeting notes for more information.

---

## Table of Contents
[Important Group Decisions](#important-group-decisions)  
[Group Links](#group-links)  
[Ray Tracer Info](#ray-tracer-info)  
[Input and Output](#input-and-output)  
[Minimal Ray Tracer](#minimal-ray-tracer)  
[JSON](#json)  
[IRC](#irc)

---

## Important Group Decisions
* Language: Java
* License: Apache 2.0
* ImageMagick
* JSON
* Travis CI?
* What else?
* Project hosted on GitHub
* Coordinate via IRC, Slack, and in-person meetings
* Docker?
* Name: caosray?
* Use image encoding libraries rather than doing that stuff from scratch
* Don't look at existing ray tracer projects!
* 3+1 votes for every pull request before accepting
* Dev blog or project website?


---

## Group Links
* #SIUE-RAY on freenode (IRC)
* https://siue-cs.slack.com/
* https://caos-ray.slack.com/
* https://github.com/siue-caos/CAOS-Ray

---

## Ray Tracer Info

### 0, 1, n Rule
  * When designing something, you have three choices:
    1. Not including a feature
    2. Allowing it once
    3. Not putting a limit on it

* Estimate how long something will take, then ask the user if they want to render it
  * "These billion objects and light sources will take X amount of time to render, are you sure you want to render it?"
  * Warn about potentially long rendering times for complicated scenes, but don't force any hard limits on the user

### Miscellaneous Ray Tracer Details
* Project rays into space
* Find intersection of line with a spheres
* All locations have material properties
* Opaque objects means you don't care where the light goes out (through stuff)
  * Opaque is easier
* Glass ball
  * Reflection
  * Refraction
  * Determine where new ray goes out the backside of the sphere, but we will stick with opaque stuff for now

---

## Input and Output

### Input:
  * Scene description file
    * Should the scene description file keep the rendering parameters?
    * Objects
      * Sphere
      * Plane
      * Box/quad
        * Non-infinite plane
      * Plane
        * Infinite
    * Lights
      * Light at infinity
        * The sun
          * Has a point instead of a direction
          * Far enough that it's easy to think of a light where all the rays are parallel, coming to us (or the camera)
      * Point light
      * Spot light
      * Ambient light
        * Everywhere in all directions
        * Accounts for all the inner object interactions
        * Example: light reaching the bottom of the table in a room

### Output:
  * Image file
    * Rendering parameters
    * View position
    * Resolution
    * Projection parameters
      * Perspective Projection
      * Parallel projection

---

## Minimal Ray Tracer

### Starting Out

Try minimal program before adding more features
1. One light source
2. One sphere
3. Fix camera, coordinate system
4. Output file type? RAW file? PNG? ImageMagick?
5. Scene description file?
6. *???*

Ray tracer will be command line only.

Current project goal: bare minimum, nothing too special. Once we have a functioning minimal ray tracer, *then* we can think about extending it. But don't make it too complicated or overly-ambitious when starting out.

### How a User Interacts with the Program
At command prompt/shell (bolded and underlined means what user types):

>  user@hostname:\~\$ ***caosray***  
>  caosray version 1.2.3 started!  
>  input file: ***the_best_scene_ever.scn***  
>  viewparam: ***first_view_param.vp***  
>  output file: ***wonderful_image.png***  
>  rendering started, come back next week  
>  user@hostname:\~\$

---

## JSON

### JSON Details
* Learn JSON if you haven't already
* Scene description file:
  * JSON
  * List of lights
  * List of objects
* World coordinate system (WCS)
  * x, y, z (3d plane)
  * Viewpoint (point in WCS)
  * Image center (point in WCS)
  * Up (assume positive y)
  * Image coordinate system
* Spheres are the easiest to start out with, might add more objects later
* (x, y, z, r)
  * r is for radius

### JSON Example
  ```
  { "sphere":
      {"id":"sphere1",
       "center": {x: 0, y: 0, z: 0},
       "radius": 1,
       "material": {r: 255, g: 255, b: 255}
      }
  }
  ```

---

## IRC

* Many different IRC clients, depends on your operating system and personal preferences (GUI vs. CLI or proprietary vs. open source)
* @ symbol indicates operator status. Operator (ops) have extra privileges, like a moderator or admin
* Private message instead of message in chat:
  ```
  /msg username_goes_here hello there
  ```
* Signing up:
  * Sign up by messaging the NickServ bot. Some users are people, some are bots that can be programmed to do any number of things.
  ```
  /msg NickServ REGISTER password_goes_here youremail@example.com
  ```
  * Then check your email and follow the instructions, which will involve typing in a command with a confirmation code.
* Nickname can't already be taken. Won't work if the one you pick is already registered.
* Signing in:
  ```
  /connect chat.freenode.net 6667 username:password
  ```
  * You might be able to make your IRC client log you in automatically. IRC clients are different but be sure to review settings for it.
* Joining the CAOS channel:
  ```
  /join #SIUE-Ray
  ```

* Optionally:
  ```
  /your_nickname_goes_here mode +R
  ```
  * This makes it so you will only see messages from registered users (trolls are often unregistered, not a big deal in #SIUE-Ray but might be an issue in #freenode or other channels)
    * Might mean you won't see other CAOS members' messages if they haven't registered for freenode yet
  * Turn it off:
  ```
  /your_nickname_goes_here mode -R
  ```
* Unaffiliated cloak (like a vhost) in #freenode channel -- message freenode staff (hides your IP address), usually in the #freenode channel on freenode
* If you do not have a ZNC or unaffiliated cloak, other people might be able to see your IP address and/or hostname
  * No unaffiliated cloak:
    ```
    username (username@1.2.3.4/username) joined the channel
    ```
  * Unaffiliated cloak:
    ```
    username (username@unaffiliated/username) joined the channel
    ```
  * You should probably register your account before requesting an unaffiliated cloak.
* Find out which freenode staff are online:
  ```
  /stats p
  ```
  or
  ```
  /who freenode/staff/*
  ```
* Set up ZNC -- who will do that? How do you do that?
* ZNC is an IRC bouncer. IRC bouncers allow you to see messages you missed. Like let's say you aren't signed in to IRC but some people have an important discussion related to the project. Without a ZNC, you won't see any of those messages if you're not signed in. When you sign in again, you will only see messages beginning from when you signed in, not anything from when you were gone.
  * ZNC makes IRC more Slack-like
  * ZNC can also hide your IP address
  * ZNC bouncer for IRC: https://github.com/jimeh/docker-znc

* Good IRC resource: https://wiki.swiftirc.net/wiki/Channel_modes (and the rest of the wiki too)

## Links

* https://commons.apache.org/proper/commons-math/userguide/geometry.html
* https://github.com/FasterXML/jackson
* http://www.oracle.com/technetwork/articles/java/json-1973242.html
* http://www.strawpoll.me/14344188
* https://en.wikipedia.org/wiki/List_of_3D_graphics_libraries
* https://en.wikipedia.org/wiki/Comparison_of_free_and_open-source_software_licenses
* https://github.com/jimeh/docker-znc
* For documentation headings: https://capitalizemytitle.com/
* For documentation markdown: https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet
